<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="initial-scale=1 width=device-width, height=device-height" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>HID Product solution app</title>
  


        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/idangerous.swiper.css">
        <link rel="stylesheet" href="css/hid.css">
        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/plugins.css"/>
        <link rel="stylesheet" href="lib/onsen/css/onsenui.css">  
        <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css">  

    </head>
    <body>

      <div id="header"><img src="img/brick.png"></div>
      <div class="reset-icon" style="top:2%;"><a href="javascript: history.go(-1)"><i class="fa fa-chevron-left"></i></a></div>

        <section class="container product-info">
         <!-- <div class="datasheet-download-btn" style="margin-top: 50px;">Download Datasheet</div> -->

          <div class="product-box">




              <div class="swiper-container product-slider">
              <div class="swiper-wrapper">
              
                <!-- Content to be inserted here dynamically -->

                 
            </div>

        </div>
        

    </div> 

            <img src="img/bg.png" class="bg">
        
        </section>





        <!-- jquery -->
        <script src="js/vendor/jquery-1.10.2.min.js"></script>
        <!-- slider library -->
        <script src="js/vendor/idangerous.swiper.min.js"></script>
        <!-- fastclick -->
        <script type='application/javascript' src='js/vendor/fastclick.js'></script>
        <!-- papa parse -->
        <script type='application/javascript' src='js/vendor/papaparse.min.js'></script>
        <!-- Cookie plugin -->
        <script type='application/javascript' src='js/vendor/jquery.cookie.js'></script>

        <!-- plugin and custom js code -->
        <script src="js/main.js"></script>
        <script src="js/product.js"></script>
        <script src="js/SocialShare.js"></script>
        <script src="cordova.js"></script>


        <!-- page specific logic -->
        <script type="text/javascript">
            $(document).ready(function() {
              //store hash value for querying json array
              window.hashvalue = location.hash.substr(1);
              paparesults(window.jsonproductsarray);
              //setup callback method for when papa parse is finished
              function paparesults(results){
                    
                    //run through json array and dump all the elements for the slider
                    $.each( results, function( key, value ) {
                        if( value['vertical'] == $.cookie('verticalcategory') ){
                            $('.swiper-wrapper').append('<div class="swiper-slide"> <div class="product-slide"> <h1>'+ value['name'] +'</h1> <img src="product-images/'+ value['imagefilename'] +'" alt=""  /> <p>'+ value['description'] +'</p> <div class="datasheet-download-btn"><a href="'+ value['pdf'] +'" title="">Download Datasheet</a></div></div></div>'
                            );                             
                        }
                    });               
                    //once we've run through the csv entries and added them to the dom, finally call and enable the swiper
                    window.mySwiper = $('.product-slider').swiper({
                        mode:'horizontal',
                        loop: false,
                        onSlideChangeEnd: function () {
                              $('#next_swiper').show();
                              $('#previous_swiper').show();
                              if(window.mySwiper.activeIndex==0){
                                    $('#previous_swiper').hide()
                              }
                              if(window.mySwiper.activeIndex==window.mySwiper.slides.length-1){
                                    $('#next_swiper').hide()
                              }
                        }
                    });
                    //once the slider is setup move to the previously selected product via it's index.
                    window.mySwiper.swipeTo($.cookie('productIndexSelected'), 10, true);
              }//closing paparesults
            }); 
        </script>


    </body>
</html>